---
ms.assetid: d7a4d2e1-217d-4ffc-93f0-817149bd9e7f
title: "Wege der Gefährdung"
description: 
author: billmath
ms.author: billmath
manager: femila
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: identity-adds
ms.openlocfilehash: 149a3e4bb2ce4558e40425e42ecfdeec2c5dfcb7
ms.sourcegitcommit: 78d8839ccafa9530784cb9e38c3127ed2c215423
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/09/2018
---
# <a name="avenues-to-compromise"></a>Wege der Gefährdung

>Gilt für: Windows Server2016, Windows Server2012 R2, Windows Server 2012

*Recht Nummer sieben: die sicherste Netzwerk ist ein gut verwaltetes.* - [10 unveränderlichen Gesetze zur Sicherheitsverwaltung](https://technet.microsoft.com/library/cc722488.aspx)  
  
In Organisationen, die schwerwiegenden Gefährdung Ereignisse aufgetreten sind, zeigen Bewertungen in der Regel, dass die Organisationen eingeschränkte Einblick in den tatsächlichen Status ihrer IT-Infrastrukturen aus ihren Zuständen "wie dokumentiert" erheblich unterscheiden kann. Diese Unterschiede Einbauen Sicherheitslücken, die die Umgebung zu gefährden, oft mit geringem Risiko der Ermittlung, bis die Gefährdung zu dem Punkt fortgeschritten ist, an dem die Angreifer effektiv "die Umgebung besitzen" verfügbar zu machen.  
  
Detaillierte Bewertung von AD DS-Konfiguration für diese Organisationen, public Key-Infrastrukturen (PKI), Server, Arbeitsstationen, Anwendungen, Zugriffssteuerungslisten (ACLs) und andere Technologien anzuzeigen, Fehlkonfigurationen und Sicherheitsrisiken, die, wenn wiederhergestellt, konnte die anfängliche Gefährdung verhindert.  
  
Analyse der IT-Dokumentation, Prozesse und Verfahren erkennt Sicherheitsrisiken, die von Lücken in der administrativen Verfahren, die von Angreifern schließlich Berechtigungen zu erhalten, die verwendet wurden, um die Active Directory-Gesamtstruktur gefährden genutzt wurden eingeführt. Eine vollständig kompromittierte Gesamtstruktur ist in der Angreifer kompromittieren, nicht nur einzelne Systeme, Anwendungen oder Benutzerkonten, aber eskalieren Sie den Zugriff, um eine Ebene der Berechtigungen zu erhalten, in dem sie ändern oder löschen alle Aspekte der Gesamtstruktur. Wenn eine Active Directory-Installation zu kompromittiert wurde, dass Grad, Angreifer Änderungen vornehmen können, mit denen sie eine Präsenz in der Umgebung oder – schlimmer noch das Verzeichnis und die Systeme und Konten verwalteten zerstören verwalten.  
  
Auch eine Reihe von die häufigsten ausgenutzten Sicherheitslücken in den Beschreibungen, die folgen keine Angriffe auf Active Directory sind, ermöglichen sie es Angreifern, einen Platz in einer Umgebung einzurichten, die verwendet werden kann, und so die Eskalationsseite (auch als erhöhte Rechte bezeichnet) Angriffe ausgeführt und schließlich Ziel und Manipulieren von AD DS.  
  
In diesem Abschnitt dieses Dokuments geht, beschreibt die Mechanismen, mit denen Angreifer in der Regel für den Zugriff auf die Infrastruktur und schließlich für erhöhte Rechte Angriffe zu starten. Außerdem finden Sie in den folgenden Abschnitten:  
  
-   [Die Active Directory-Angriffsfläche](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md) detaillierte Empfehlungen für die sichere Konfiguration von Active Directory.  
  
-   [Überwachen von Active Directory für Anzeichen beeinträchtigen](../../../ad-ds/plan/security-best-practices/Monitoring-Active-Directory-for-Signs-of-Compromise.md) Empfehlungen zum Erkennen der Gefährdung  
  
-   [Planen der Gefährdung](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Planning-for-Compromise.md) grundlegende Ansätze zur Vorbereitung für Angriffe auf die Infrastruktur von IT und Unternehmen Perspektiven  
  
> [!NOTE]  
> Obwohl dieses Dokument auf Active Directory und Windows-Systemen, die Teil einer AD DS-Domäne sind konzentriert, konzentrieren Sie sich Angreifer nur selten ausschließlich auf Active Directory und Windows. In einer Umgebung mit einer Mischung aus Betriebssystemen, Verzeichnisse, Anwendungen und Datenrepositorys ist es üblich, feststellen, dass nicht-Windows-Systemen auch gefährdet sind. Dies ist vor allem, wenn die Systeme bereitstellen eine "Brücke" zwischen Windows und nicht-Windows-Umgebung, wie z. B. Dateiservern Zugriff durch Windows und UNIX- oder Linux-Clients, Verzeichnisse, die Authentifizierungsdienste für mehrere Betriebssysteme bereitstellen oder Metadirectories, die Daten in unterschiedlichen Verzeichnissen zu synchronisieren.  
>   
> AD DS zielt aufgrund der zentralen Zugriff und Konfiguration Verwaltungsfunktionen, die es nicht nur auf Windows-Systemen, sondern auch für andere Clients bereitstellt. Alle anderen Verzeichnis oder Anwendung, die Authentifizierung und Konfiguration bereitstellt können, und wird als Ziel von Angreifern bestimmt. Obwohl dieses Dokument auf Schutzmechanismen konzentriert, die die Wahrscheinlichkeit einer Gefährdung der Active Directory-Installationen, jede Organisation reduzieren können, die nicht-Windows-Computer enthält sollten Verzeichnisse, Anwendungen oder Daten-Repositorys auch für Angriffe auf diese Systeme vorbereiten.  
  
## <a name="initial-breach-targets"></a>Anfängliche Verletzung Ziele  
Niemand builds absichtlich eine IT-Infrastruktur, die die Organisation gefährden verfügbar macht. Wenn Active Directory-Gesamtstruktur zuerst erstellt wird, ist es in der Regel unberührte und aktuelle. Lauf, und neue Betriebssysteme und Anwendungen erworben haben, sind sie der Gesamtstruktur hinzugefügt. Die Verwaltbarkeit Vorteile, die Active Directory bietet erkannt werden, mehr Inhalt in das Verzeichnis hinzugefügt wird, noch mehr Menschen Integrieren ihrer Computer und Anwendungen mit AD DS und Domänen zur Unterstützung des neuen Funktionen der aktuellen Versionen von Windows-Betriebssystems aktualisiert werden. Was geschieht, auch im Laufe der Zeit ist jedoch, dass auch eine neue Infrastruktur hinzugefügt wird, andere Teile der Infrastruktur nicht beibehalten werden möglicherweise auch wie ursprünglich, Systeme und Anwendungen ordnungsgemäß funktionieren, und daher nicht Aufmerksamkeit erhalten, und Organisationen zunächst vergessen, dass sie ihre bestehende Infrastruktur nicht gelöscht haben. Bei der Bewertung gefährdeten Infrastrukturen, sehen wir anhand der älteren größere und komplexere der Umgebung, desto wahrscheinlicher ist es, dass mehrere Instanzen der häufigsten ausgenutzten Sicherheitslücken vorhanden sind.  
  
Unabhängig von der Motivation des Angreifers starten die meisten Informationen von Sicherheitslücken mit die Gefährdung von Systemen, ein oder zwei zu einem Zeitpunkt. Diese erste Ereignisse oder Einstiegspunkte in das Netzwerk nutzen häufig Sicherheitsrisiken, die konnte wurden behoben, aber nicht. Die [2012 Daten Verletzung Ermittlungen Bericht (DBIR)](http://www.verizonbusiness.com/resources/reports/rp_data-breach-investigations-report-2012_en_xg.pdf), die eine jährliche Studie vom Verizon Risiko-Team in Zusammenarbeit mit einer Reihe von der national Security Agenturen und anderen Unternehmen hergestellt wird, dass 96 Prozent der Angriffe "nicht sehr schwierig" waren, und dass "97 % der unterrichten wurden vermeidbaren über einfache oder fortgeschrittene Steuerelemente". Diese Ergebnisse möglicherweise eine direkte Folge der häufigsten ausgenutzten Sicherheitslücken, die folgen.  
  
### <a name="gaps-in-antivirus-and-antimalware-deployments"></a>Lücken in Antiviren- und Antischadsoftware-Bereitstellungen  
*Recht Zahl acht: ein veralteter Malware-Scanner ist nur wenig besser als kein Scanner überhaupt.* - [Zehn unveränderlichen Gesetze zur Sicherheit (Version 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
Analyse von Organisationen Antiviren- und Antischadsoftware-Bereitstellungen wird häufig eine Umgebung, in der meisten Arbeitsstationen sind mit Antiviren- und Antischadsoftware, die aktiviert ist und aktuell. Ausnahmen sind in der Regel Arbeitsstationen, auf denen der Umgebung oder Mitarbeiter unternehmensgeräten selten für die Antiviren-, die und Antischadsoftware Software schwierig sein Verbindung kann, bereitstellen, konfigurieren und aktualisieren.  
  
Server-Auffüllungen sind jedoch weniger konsistent in vielen gefährdeten Umgebungen geschützt. Gemeldete in der [2012 Daten Verletzung Ermittlungen](http://www.verizonbusiness.com/resources/reports/rp_data-breach-investigations-report-2012_en_xg.pdf)94 % aller Daten kompromittiert Beteiligte Servern, die eine Erhöhung um 18 % im vergangenen Jahr darstellt und 69 Prozent der Angriffe Malware integriert. In Server-Auffüllungen ist es nicht wussten, dass Antiviren- und Antischadsoftware-Installationen nicht konsistent konfiguriert, veraltet, falsch konfiguriert oder sogar deaktiviert werden. In einigen Fällen ist die Antiviren- und Antischadsoftware Verwaltungspersonal deaktiviert, aber in anderen Fällen Angreifern, deaktivieren Sie die Software nach der Gefährdung eines Servers über andere Sicherheitslücken. Wenn die Antiviren- und Antischadsoftware deaktiviert ist, die Angreifer dann Pflanzen von Schadsoftware auf dem Server und konzentrieren Sie sich auf eine Gefährdung für die Auffüllung Server weitergegeben.  
  
Es ist wichtig, nicht nur um sicherzustellen, dass Ihre Systeme mit aktuellen, umfassende Malwareschutz geschützt sind, aber auch zum Überwachen von Systemen deaktivieren oder Entfernen von Antiviren- und Antischadsoftware und Schutz automatisch neu gestartet, wenn sie manuell deaktiviert ist. Obwohl keine Antiviren- und Antischadsoftware Datenausführungsverhinderung und Erkennung aller Infektionen garantieren kann, kann eine ordnungsgemäß konfigurierte und bereitgestellte Antiviren- und Antischadsoftware-Implementierung die Wahrscheinlichkeit einer Infektion reduzieren.  
  
### <a name="incomplete-patching"></a>Unvollständige Patches  
*Recht Nummer drei: Wenn Sie sich mit Sicherheitspatches beibehalten nicht, Ihr Netzwerk nicht Ihre längere.* - [10 unveränderlichen Gesetze zur Sicherheitsverwaltung](https://technet.microsoft.com/library/cc722488.aspx)  
  
Microsoft Security Bulletins am zweiten Dienstag jedes Monats veröffentlicht, obwohl in seltenen Fällen Sicherheitsupdates zwischen den monatlichen Sicherheitsupdates veröffentlicht werden (Dies sind auch bekannt als "Out-of-Band"-Updates) Wenn das Sicherheitsrisiko, das ermittelt wird, dass ein Kundensysteme dringende gefährden. Ob ein kleines Unternehmen die Windows-Computer konfiguriert, um Windows Update zur Verwaltung von System- und Installation von Patches verwenden, oder ein großes Unternehmen-Verwaltungssoftware wie System Center Configuration Manager (SCCM) verwendet zum Bereitstellen von Patches gemäß detaillierte, hierarchische Pläne, patch viele Kunden ihre Windows-Infrastrukturen relativ schnell genug.  
  
Allerdings einige Infrastrukturen enthalten nur die Windows-Computern und Microsoft-Anwendungen und in gefährdeten Umgebungen ist es häufig feststellen, dass der Organisation Patch-Strategie Lücken enthält. Windows-Systeme in diese Umgebung sind nicht konsistent gepatcht werden. Nicht-Windows-Betriebssysteme sind sporadisch, wenn überhaupt gepatcht werden. Kommerzielle Standardanwendungen (COTS) enthalten die Sicherheitsrisiken für die Patches sind vorhanden, aber nicht angewendet wurden. Netzwerkgeräte werden häufig mit Factory-Standardanmeldeinformationen konfiguriert, und keine Firmware aktualisiert Jahre nach der Installation. Anwendungen und Betriebssystemen, die von den jeweiligen Herstellern nicht mehr unterstützt werden häufig aufbewahrt werden ausgeführt, unabhängig von der Tatsache, dass sie nicht mehr vor Sicherheitsrisiken Patch angewendet werden können. Jedes dieser Systeme nicht gepatchte stellt eine andere mögliche Einstiegspunkt für Angreifer dar.  
  
"Konsumerisierung" der IT im Besitz eingeführt, der dem Mitarbeiter zusätzliche Probleme hat, Geräten den Zugriff auf Unternehmensdaten Besitzer verwendet werden, und die Organisation möglicherweise etwas zu keinen Einfluss auf die Installation von Patches und Konfiguration von persönlichen Geräten von Mitarbeitern. Enterprise-Hardware, die im Lieferumfang von in der Regel unternehmensbereiten Konfigurationsoptionen und Verwaltungsfunktionen zulasten der Auswahl der individuellen Anpassung und Gerät Auswahl. Mitarbeiter-orientierte Hardware bietet eine größere Hersteller, Anbieter, Hardware-Sicherheitsfeatures, Software-Sicherheitsfeatures, Verwaltungsfunktionen und Konfigurationsoptionen, und viele Enterprise-Features können vollständig nicht vorhanden sein.  
  
#### <a name="patch-and-vulnerability-management-software"></a>Patches und Sicherheitsrisiken-Management-Software  
Wenn ein Verwaltungssystem effektive Patch für die Windows-Systemen und Microsoft-Anwendungen vorhanden ist, ist Teil der Angriffsfläche, die nicht gepatchte Sicherheitsrisiken zu erstellen wurde behoben. Es sei denn, der nicht-Windows-Systemen, nicht-Microsoft-Anwendungen, Netzwerkinfrastruktur und den Geräten der Mitarbeiter auch auf Patches und andere Updates aktuell gehalten werden, bleibt die Infrastruktur jedoch anfällig. In einigen Fällen kann eine App-Anbieters automatische Updatefunktionen bieten. in anderen Fällen möglicherweise erforderlich, eine Methode, um regelmäßig abrufen und Anwenden von Patches und andere Updates zu entwerfen.
  
### <a name="outdated-applications-and-operating-systems"></a>Veraltete Anwendungen und Betriebssystemen  
*"Sie können kein sechs Jahre alten Betriebssystem zum Schutz vor einem Angriff Alter von sechs Monat ausgehen."* -Information Security-Experten mit 10 Jahre Erfahrung schützen Enterprise-Installationen  
  
Obwohl "erhalten aktuelle, ständig" klingt wie ein marketing Satz, Betriebssysteme und Anwendungen Risiko in vielen Organisationen erstellen IT-Infrastrukturen. Ein Betriebssystem, das in 2003 veröffentlicht wurde möglicherweise weiterhin unterstützt vom Hersteller definiert und mit Sicherheitslücken, Updates bereitgestellt werden, aber von Betriebssystem möglicherweise nicht Sicherheitsfeatures, die in neueren Versionen des Betriebssystems enthalten. Veraltete Systeme können auch erfordern bestimmte AD DS-Sicherheitskonfiguration, die weniger Funktionen dieser Computer unterstützen herabsetzen.  
  
Anwendungen, die geschrieben wurden, um ältere Authentifizierungsprotokolle verwenden von Anbietern, die nicht mehr in der Regel die Anwendung unterstützen können nicht retooled werden, um leistungsfähigere Authentifizierungsmechanismen zu unterstützen. Active Directory-Domäne der Organisation kann jedoch weiterhin so konfiguriert werden, zum Speichern von LAN Manager-Hashes oder reversibel verschlüsselte Kennwörter, um solche Anwendungen zu unterstützen. Vor der Einführung der neueren Betriebssystemen geschriebene Anwendungen funktionieren möglicherweise nicht gut oder auf aktuelle Betriebssysteme, dass Organisationen ältere und ältere Systeme verwalten und in einigen Fällen, vollständig nicht unterstützter Hardware und Software.  
  
Auch in Fällen, in denen Organisationen ihren Domänencontrollern Windows Server 2012, Windows Server 2008 R2 oder Windows Server 2008 aktualisiert haben, ist es üblich, finden wichtige Teile des Mitglieds Server – Auffüllung der Windows Server 2003 ausgeführt werden (die nicht mehr in der grundlegenden Support enthalten ist), oder sogar Windows 2000 Server oder Windows NT Server 4.0 (die nicht vollständig unterstützt werden). Je länger eine Organisation verwaltet Alterung Systeme, die Unterschiede zwischen Featuregruppen je größer und wahrscheinlicher wird, dass Produktionssysteme nicht unterstützt werden. Darüber hinaus, desto länger Active Directory-Gesamtstruktur wird beibehalten, desto beobachten wir, dass ältere Systeme und Anwendungen in Pläne entgangen sind. Dies kann bedeuten, dass ein einzelner Computer mit einer einzelnen Anwendung Domänen- oder gesamtstrukturweite Sicherheitsrisiken führen kann, da die Active Directory konfiguriert ist, dass um die ältere Protokolle und Authentifizierungsmechanismen zu unterstützen.  
  
Um ältere Systeme und Anwendungen zu vermeiden, sollten Sie zunächst konzentrieren, identifizieren und Katalogisieren sie, und klicken Sie dann auf die Entscheidung, ob aktualisieren oder Ersetzen Sie die Anwendung oder den Host. Obwohl es schwierig kann für sehr spezielle Anwendungen suchen für das vorhanden ist sein, weder unterstützt noch einen Upgrade-Pfad, können Sie möglicherweise ein Konzept mit der Bezeichnung "creative Zerstörung" nutzen, die ältere Anwendung durch eine neue Anwendung zu ersetzen, die die erforderliche Funktionalität bereitstellt. [Planen der Gefährdung](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Planning-for-Compromise.md) genauer in "Planung für die Gefährdung" weiter unten in diesem Dokument beschrieben wird.  
  
### <a name="misconfiguration"></a>Falsche Konfiguration  
*Recht Zahl vier: Es ist nicht sehr sinnvoll Sicherheitspatches auf einem Computer installieren, die nie zunächst gesichert wurde.* - [10 unveränderlichen Gesetze zur Sicherheitsverwaltung](https://technet.microsoft.com/library/cc722488.aspx)  
  
Auch in Umgebungen, in denen Systeme aktuelle und Patches in der Regel gehalten werden, geben wir häufig Lücken oder Fehlkonfigurationen im Betriebssystem, Anwendungen, die auf Computern und Active Directory ausgeführt. Einige Fehlkonfigurationen verfügbar machen, nur auf den lokalen Computer zu gefährden, aber nach ein Computer "zugewiesen ist," Angreifer in der Regel geht weiterverbreitet Gefährdung auf anderen Systemen und schließlich an Active Directory. Es folgen einige allgemeine Bereiche in denen wir Konfigurationen zu identifizieren, die Risiken einführen.  
  
#### <a name="in-active-directory"></a>In Active Directory  
Die Konten in Active Directory, die häufig von Angreifern Ziel sind diejenigen, die Mitglieder der meisten sehr privilegierten Gruppen, z. B. Mitglieder der Domänen-Admins (DA), die Organisations-Admins (EA) oder die integrierten Administratoren (BA) Gruppen in Active Directory sind. Die Mitgliedschaft dieser Gruppen sollten reduziert werden, auf die kleinstmögliche Anzahl von Konten möglich, die Angriffsfläche dieser Gruppen beschränkt ist. Es ist auch möglich, die "permanente" Mitgliedschaft in diesen privilegierten Gruppen zu beseitigen. Das heißt, können Sie Einstellungen implementieren, mit denen Sie diese Gruppen vorübergehend zu füllen, nur, wenn ihre Domäne und Gesamtstruktur-Berechtigungen erforderlich sind. Wenn sehr privilegierte Konten verwendet werden, sollten sie nur auf angegebenen, sicheren Systemen wie z. B. Domänencontroller oder sichere administrative Hosts verwendet werden. Ausführliche Informationen zu implementieren Sie diese Konfigurationen finden Sie unter [der Active Directory-Angriffsfläche](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md).  
  
Wenn wir die Mitgliedschaft der höchsten privilegierten Gruppen in Active Directory bewerten, finden wir häufig eine übermäßige Mitgliedschaft in allen drei der meisten privilegierten Gruppen. In einigen Fällen haben Organisationen Dutzende oder Hunderte von Konten in DA Gruppen. In anderen Fällen Organisationen, setzen Sie Konten direkt in der integrierten Gruppe Administratoren, die denken, dass die Gruppe "weniger Berechtigungen" als der Gruppe DAs. Es ist nicht. Wir suchen häufig eine Handvoll von ständige Mitglieder der Gruppe EA in der Gesamtstruktur-Stammdomäne trotz der Tatsache, dass EA Berechtigungen nur selten und vorübergehend erforderlich sind. Suchen von täglichen Administratorkonto des Benutzers eine IT in allen drei Gruppen ist auch "common", obwohl dies eine effektive redundante Konfiguration ist. Siehe [der Active Directory-Angriffsfläche](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md), ob ein permanente Mitglied einer dieser Gruppen oder alle, ist das Konto kompromittieren und sogar Zerstören der AD DS-Umgebung und die Systeme und verwaltet diese Konten verwendet werden kann. Empfehlungen für die sichere Konfiguration und Verwendung von privilegierten Konten in Active Directory finden Sie unter [der Active Directory-Angriffsfläche](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md).  
  
#### <a name="on-domain-controllers"></a>Auf Domänencontrollern  
Wenn wir den Domänencontrollern bewerten wir suchen häufig finden sie konfiguriert und verwaltet werden nicht anders als Mitgliedsserver. Domänencontroller führen mitunter dieselben Funktionen und Dienstprogramme auf Mitgliedsservern installiert wird, nicht, da sie auf den Domänencontrollern benötigt werden, aber da die Anwendungen Teil einer Standardinstallation sind. Diese Anwendungen können minimale Funktionalität auf den Domänencontrollern jedoch belegen erheblich Angriffsfläche durch Anfordern von Konfigurationseinstellung, die Ports öffnen, sehr privilegierten Konten erstellen oder gewähren von Zugriff auf das System durch Benutzer, die nicht für die Zwecke der Authentifizierung und Anwendung von Gruppenrichtlinien zu einem Domänencontroller herstellen soll. In einigen unterrichten verfügen Angreifer Tools verwendet, die bereits, auf den Domänencontrollern nicht nur installiert wurden für den Zugriff auf den Domänencontrollern, aber zu ändern oder die AD DS-Datenbank beschädigt.  
  
Wenn wir die Internet Explorer-Konfigurationseinstellungen auf den Domänencontrollern extrahieren, finden wir, dass Benutzer mit Konten angemeldet haben, die hohe Rechte in Active Directory und die Konten verwendet haben, um die Domänencontroller im Internet und Intranet zugreifen. In einigen Fällen die Konten Internet Explorer-Einstellungen konfiguriert haben, auf den Domänencontrollern zum Herunterladen des Internet Inhalte zulassen und Freewareanwendungen von Websites im Internet heruntergeladen und auf den Domänencontrollern installiert wurden. Verstärkte Sicherheitskonfiguration für Internet Explorer ist für Benutzer und Administratoren standardmäßig aktiviert, aber wir häufig beobachten, d. h. für Administratoren deaktiviert wurde. Wenn ein Konto auf das Internet zugreift und Inhalt an alle Computer lädt, wird diesem Computer schwerwiegende gefährdet werden. Wenn der Computer ein Domänencontroller ist, wird die gesamte AD DS-Installation gefährdet werden.  
  
##### <a name="protecting-domain-controllers"></a>Schützen von Domänencontrollern  
Domänencontroller sollten als wichtige Infrastrukturkomponenten behandelt, strengere gesichert und mehr fest als Datei, Drucken und Anwendungsserver konfiguriert werden. Domänencontroller sollten keine Software ausführen, die für die Funktion der Domänencontroller ist nicht erforderlich oder nicht den Domänencontroller vor Angriffen zu schützen. Domänencontroller sollte nicht gestattet werden, auf das Internet zugreifen, und Sicherheitseinstellungen konfiguriert und durch Gruppenrichtlinienobjekte (GPOs) erzwungen werden soll. Detaillierte Vorschläge für die sichere Installation, Konfiguration und Verwaltung von Domänencontrollern finden Sie unter [Domain-Controller vor Angriffen schützen](../../../ad-ds/plan/security-best-practices/Securing-Domain-Controllers-Against-Attack.md).  
  
#### <a name="within-the-operating-system"></a>Innerhalb des Betriebssystems  
*Recht Nummer zwei: Wenn ein Angreifer das Betriebssystem auf Ihrem Computer ändern kann, es ist nicht Ihr Computer nicht mehr.* - [Zehn unveränderlichen Gesetze zur Sicherheit (Version 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
Zwar einige Organisationen Basiskonfigurationen für Server verschiedener Typen erstellen und eingeschränkte Anpassung des Betriebssystems nach der Installation, überdeckt Analyse der gefährdeten Umgebungen oft große Anzahl von Servern in einer ad-hoc-Weise bereitgestellt und manuell und unabhängig voneinander konfiguriert. Konfigurationen zwischen zwei Servern, die die gleiche Funktion ausführen möglicherweise völlig anderen, wenn keine der beiden Server sicher konfiguriert ist. Im Gegensatz dazu können Server Konfigurationsbasislinien durchgängig erzwungen, sondern auch konsistent falsch konfiguriert. Das heißt, werden Server in einer Weise konfiguriert, die das gleiche Sicherheitsrisiko, das auf allen Servern eines gegebenen Typs erstellt. Fehlkonfiguration enthält Methoden wie z. B. das Deaktivieren der Sicherheitsfeatures, gewähren übermäßige Rechte und Berechtigungen für Konten (insbesondere Dienstkonten), identische lokale Anmeldeinformationen verwenden, System-und Genehmigungsverfahren Installation von nicht autorisierten Anwendungen und Dienstprogramme, die ihre eigenen Schwachstellen zu erstellen.  
  
##### <a name="disabling-security-features"></a>Deaktivieren von Sicherheitsfeatures  
Organisationen deaktivieren manchmal Windows-Firewall mit erweiterter Sicherheit (WFAS) aus dem glauben, dass WFAS schwer ist zu konfigurieren oder Arbeit aufwendige Konfiguration ist erforderlich. Beginnend mit Windows Server 2008, jedoch bei jeder Rolle oder das Feature auf einem Server installiert ist, wird standardmäßig mit den geringsten Berechtigungen für die Rolle oder das Feature Funktion erforderlichen konfiguriert ist und die Windows-Firewall automatisch konfiguriert wird, um die Rolle oder das Feature zu unterstützen. Durch Deaktivieren von WFAS (und nicht eine andere hostbasierte Firewall verwenden, an deren Stelle) erhöhen Organisationen die Angriffsfläche der gesamten Windows-Umgebung. Umkreisfirewalls bieten einen gewissen Schutz vor Angriffen, die direkt eine Umgebung aus dem Internet, bieten aber keinen Schutz gegen Angriffe, die andere wie z. B. Angriffsvektoren [Laufwerk herunterladen](https://www.microsoft.com/security/sir/glossary/drive-by-download-sites.aspx) Angriffe oder Angriffe, die von anderen stammen gefährdet Systeme im Intranet.  
  
Benutzereinstellungen für die Benutzerkontensteuerung (UAC) sind auf Servern manchmal deaktiviert, da administrative Mitarbeiter die Anweisungen nicht intrusiv finden. Obwohl [Microsoft Support-Artikel 2526083](https://support.microsoft.com/kb/2526083) Beschreibt Szenarien, die in der UAC kann, unter Windows Server deaktiviert werden, es sei denn, Sie auf einem Server Core-Installation ausführen (UAC ist, in denen standardmäßig deaktiviert), sollten Sie nicht UAC auf Servern ohne sorgfältige und Forschung deaktivieren.  
  
In anderen Fällen werden servereinstellungen konfiguriert, um weniger Werte sicheren da Organisationen veraltete Konfigurationseinstellungen auf neue Betriebssysteme, z. B. das Anwenden von Windows Server 2003-Baselines auf Computern mit Windows Server 2012, Windows Server 2008 R2 oder Windows Server 2008, ohne die Konfigurationsbasislinien entsprechend die Änderungen in das Betriebssystem angewendet werden. Überprüfen Sie anstelle der alten Server Baselines auf neue Betriebssysteme ausführen, wenn Sie ein neues Betriebssystem bereitstellen, Änderungen der Sicherheit und Konfigurationseinstellungen, um sicherzustellen, dass die Einstellungen, die implementiert, für das neue Betriebssystem werden.  
  
##### <a name="granting-excessive-privilege"></a>Übermäßige Rechte gewähren  
In nahezu jeder Umgebung, die wir bewertet haben, erhält die übermäßige Rechte mit lokalen und domänenbasierten Konten auf den Windows-Systemen. Benutzer erhalten die lokalen Administratorrechte auf ihren Arbeitsstationen, Mitgliedsserver Ausführen von Diensten, die mit Berechtigungen über die notwendige Funktion konfiguriert sind und lokalen Administratorgruppe über die Auffüllung Server enthalten Dutzende oder Hunderte von lokalen und Domänenkonten. Gefährdung von nur einem privilegierten Konto auf einem Computer ermöglicht, um die Konten für jeden Benutzer und -Dienst, der auf dem Computer und -Anmeldeinformationen Ernte und nutzen die Gefährdung zu anderen Systemen weitergegeben anmeldet zu gefährden.  
  
Obwohl Pass-the-Hash (PTH) und andere Methoden des anmeldeinformationsdiebstahls sind weit verbreitete heute liegt daran, dass es ist kostenlos verfügbare Tools, mit dem einfachen und leicht zu extrahieren Sie die Anmeldeinformationen eines anderen privilegierten Konten, wenn ein Angreifer hat oder SYSTEM-Zugriff auf Administratorebene auf einem Computer erlangen. Auch ohne Tools, mit dem Sammeln von Anmeldeinformationen anmeldesitzungen kann, kann ein Angreifer mit privilegierten Zugriff auf einen Computer genauso einfach Keylogger installieren, die Erfassen von Tastaturanschlägen, Screenshots und Inhalt der Zwischenablage. Ein Angreifer mit privilegierten Zugriff auf einen Computer deaktivieren Antischadsoftware, Rootkits installieren, geschützte Dateien ändern oder Schadsoftware installieren, auf dem Computer, die automatisiert Angriffe oder wird von einem Server in einem [Laufwerk herunterladen](https://www.microsoft.com/security/sir/glossary/drive-by-download-sites.aspx) Host.  
  
Die Taktiken verwendet, um eine Verletzung der über einen einzelnen Computer erweitern variieren, aber der Schlüssel zu Gefährdung verbreitet ist der Kauf von sehr privilegierten Zugriff auf zusätzliche Systeme. Durch die Anzahl der Konten mit privilegierten Zugriff auf ein beliebiges System reduzieren, verringern Sie die Angriffsfläche nicht nur von dem Computer, aber die Wahrscheinlichkeit, dass ein Angreifer grobe wichtige Anmeldeinformationen auf dem Computer.  
  
##### <a name="standardizing-local-administrator-credentials"></a>Durch die Standardisierung lokaler Administrator-Anmeldeinformationen  
Lange wurde zwischen Sicherheitsexperten zu zeigen, ob in der lokale Administratorkonten auf Windows-Computer umbenennen Wert vorhanden ist. Tatsächlich ist zu lokalen Administratorkonten wichtig, ob sie mit den gleichen Benutzernamen und das Kennwort auf mehreren Computern konfiguriert werden.  
  
Wenn das lokale Administratorkonto wird mit dem Namen auf den gleichen Wert auf Servern, und das Kennwort des Kontos auch auf den gleichen Wert konfiguriert ist, können Angreifer die Anmeldeinformationen des Kontos auf einem Computer extrahieren, auf welche Administrator-, die oder Systemebene Zugriff erteilt wurde. Der Angreifer ist nicht mit zunächst das Administratorkonto zu manipulieren. Sie müssen nur das Konto eines Benutzers gefährden, die ist ein Mitglied der lokalen Administratorgruppe sein, oder eines Dienstkontos, die Ausführung als lokales System oder mit Administratorrechten konfiguriert ist. Der Angreifer kann dann extrahieren Sie die Anmeldeinformationen für das Administratorkonto und wiederholen diese Anmeldeinformationen in netzwerkanmeldungen mit anderen Computern im Netzwerk.  
  
Als einen anderen Computer verfügt über ein lokales Konto mit den denselben Benutzernamen und Kennwort (oder Kennworthash) als die Anmeldeinformationen des Kontos, die präsentiert werden, der Anmeldeversuch erfolgreich ist, und der Angreifer erhält Zugriff auf privilegierte Zugriff auf den Zielcomputer. In aktuellen Versionen von Windows, das integrierte Administratorkonto wird [standardmäßig deaktiviert,](https://technet.microsoft.com/library/cc753450.aspx), aber in älteren Betriebssystemen, das Konto ist standardmäßig aktiviert.  
  
> [!NOTE]  
> Einige Organisationen haben absichtlich lokale Administratorkonten in der Überzeugung aktiviert werden, dass dadurch "ausfallsichere" für den Fall, dass Sie alle anderen privilegierten Konten ein System gesperrt werden konfiguriert. Jedoch auch, wenn das lokale Administratorkonto deaktiviert ist, und es sind keine anderen Konten verfügbar, die das Konto oder melden Sie sich bei dem System mit Administratorrechten aktivieren können, das System im abgesicherten Modus gestartet werden kann und die integrierten lokalen Administratorkontos kann erneut aktiviert werden, wie unter [Microsoft Support-Artikel 814777](https://support.microsoft.com/kb/814777). Wenn das System nach wie vor erfolgreich Gruppenrichtlinienobjekte angewendet wird, darüber hinaus ein Gruppenrichtlinienobjekt kann geändert werden, um das Administratorkonto (temporär) erneut zu aktivieren, oder eingeschränkte Gruppen so konfiguriert werden, eine domänenbasierte Konto der lokalen Administratorgruppe hinzufügen. Reparaturen ausgeführt werden können, und das Administratorkonto wieder deaktiviert werden. Um effektiv zu verhindern, die lokale Anmeldeinformationen des integrierte Administratorkontos verwendet eine Gefährdung Laterale, müssen der eindeutigen Benutzernamen und Kennwörter für lokale Administratorkonten konfiguriert werden. Um eindeutige Kennwörter für lokale Administratorkonten über ein Gruppenrichtlinienobjekt bereitstellen möchten, finden Sie unter [Lösung für die Verwaltung des integrierten Administratorkontos Kennwort über ein Gruppenrichtlinienobjekt](https://technet.microsoft.com/mt227395.aspx) auf TechNet.  
  
##### <a name="permitting-installation-of-unauthorized-applications"></a>Zulassen der Installation von nicht autorisierten Anwendungen  
*Erstens Recht: Wenn ein Angreifer Sie seine Anwendung auf Ihrem Computer ausführen überreden können, ist es nicht ausschließlich auf Ihrem Computer mehr.* - [Zehn unveränderlichen Gesetze zur Sicherheit (Version 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
Ob eine Organisation einheitliche grundlegenden Einstellungen auf Servern bereitgestellt wird, sollte die Installation von Anwendungen, die nicht Teil einer definierten Serverrolle sind nicht zulässig. Dadurch, dass die Software installiert werden, die nicht Teil des angegebenen Funktionalität des Servers ist, sind Server versehentliche oder böswillige Installation von Software Sicherheitsrisiken, die Angriffsfläche des Servers erhöht, Sicherheitslücken eingeführt oder Instabilität des Systems.  
  
#### <a name="applications"></a>Anwendungen  
Wie oben beschrieben, werden häufig Anwendungen installiert und konfiguriert, dass die Konten verwenden, die tatsächlich erfordert mehr Rechte als die Anwendung gewährt werden. In einigen Fällen gibt die Dokumentation der Anwendung, dass Dienstkonten müssen Mitglieder der lokalen Administratorengruppe des Servers oder für die Ausführung im Kontext des LocalSystem konfiguriert werden müssen. Dies ist häufig nicht, da die Anwendung erforderlich, diese Rechte sind, aber da welche Rechte und Berechtigungen ermitteln einer Anwendung Service Konten Investitionen in zusätzliche Zeit und Mühe erfordert. Wenn eine Anwendung mit den Mindestberechtigungen erforderlich für die Anwendung und die konfigurierten Features funktionieren nicht installiert wird, wird das System Angriffe verfügbar gemacht, die Berechtigungen für ohne Angriffe gegen das Betriebssystem selbst zu nutzen.  
  
### <a name="lack-of-secure-application-development-practices"></a>Mangel an sicheren Methoden für die Anwendungsentwicklung  
Infrastruktur zur Unterstützung von Arbeitslasten in Ihrem Unternehmen vorhanden ist. Sofern diese Arbeitslasten in benutzerdefinierte Anwendungen implementiert sind, ist es wichtig, sicherzustellen, dass die Anwendungen mithilfe von sicheren best Practices entwickelt werden. Ursachenanalyse von Vorfällen unternehmensweite häufig festgestellt werden, dass eine Gefährdung des ersten über benutzerdefinierte erfolgt Anwendungen insbesondere diejenigen, die Internet gerichtet. Die meisten dieser gefährdungen werden über die Gefährdung der bekannte Angriffe sein, z. B. SQL zum Einfügen von Abhängigkeiten (SQLi) durchgeführt und Angriffe siteübergreifende Skripting (XSS).  
  
SQL Injection wird eine Anwendung verursacht, die können benutzerdefinierte SQL-Anweisung zu ändern, die für die Ausführung an die Datenbank übergeben wird. Diese Eingabe kann über ein Feld in der Anwendung, einen Parameter (z. B. die Abfragezeichenfolge oder ein Cookie) oder andere Methoden bereitgestellt werden. Das Ergebnis dieser zum Einfügen von Abhängigkeiten ist, dass die SQL-Anweisung bereitgestellt, um die Datenbank grundlegend als welche Entwickler vorgesehen ist. Betrachten Sie beispielsweise eine allgemeine Abfrage, die bei der Auswertung eine Kombination aus den Benutzername und Kennwort verwendet:  
  
`SELECT userID FROM users WHERE username = 'sUserName' AND password = 'sPassword'`  
  
Wenn dies vom Server empfangen wird, weist er den Server zu suchen Sie in der Tabelle "Benutzer" alle Benutzer-ID-Datensatz, in denen entsprechen den Benutzernamen und das Kennwort vom Benutzer (vermutlich über einen bestimmten Anmeldeformular). Natürlich ist die Absicht des Entwicklers in diesem Fall nur ein gültigen Datensatz zurückgegeben, wenn der Benutzer einen gültigen Benutzernamen und ein Kennwort angegeben werden können. Wenn entweder ist falsch, werden der Datenbankserver nicht übereinstimmenden Datensatz suchen und ein leeres Ergebnis zurückgegeben.  
  
Das Problem tritt auf, wenn ein Angreifer ein unerwartetes, z. B. das Bereitstellen eigener SQL anstelle von gültigen Daten verfügt. Da SQL interpretierte in-the-Fly vom Datenbankserver ist, würde der eingefügte Code verarbeitet, als ob der Entwickler in den selbst versetzt war. Beispielsweise, wenn der Angreifer eingegeben **Administrator** für die Benutzer-ID und **Xyz** oder **1 = 1** als Kennwort, wäre die Anweisung von der Datenbank verarbeitet:  
  
`SELECT userID FROM users WHERE username = 'administrator' AND password = 'xyz' OR 1=1`  
  
Wenn diese Abfrage vom Server verarbeitet wird, werden alle Zeilen in der Tabelle in der Abfrage zurückgegeben werden da 1 = 1, daher immer zu "True" ausgewertet wird, dass es keine Rolle spielt, wenn den richtigen Benutzernamen und das Kennwort bekannt ist oder bereitgestellt wird. Das Ergebnis in den meisten Fällen ist der Benutzer als den ersten Benutzer in der Datenbank des Benutzers angemeldet sein. in den meisten Fällen wird dies dem Administrator sein.  
  
Zusätzlich zu einfach anmelden, falsch formatierte SQL-Anweisungen wie diese verwendet werden kann, zum Hinzufügen, löschen, ändern oder sogar Tabellen (löschen) aus einer Datenbank löschen. In den extremsten Fällen, in denen SQLi mit übermäßige Rechte kombiniert wird, können Betriebssystem-Befehle ausgeführt werden, um die Erstellung neuer Benutzer zum Herunterladen der Tools für Angriffe oder beliebige andere Aktionen der Angreifer die Auswahl ausführen.  
  
Im Cross-Site scripting, wird das Sicherheitsrisiko, das in die Ausgabe der Anwendung eingeführt. Ein Angriff beginnt mit einem Angreifer ungültige Daten für die Anwendung bereitstellen, aber in diesem Fall ist die fehlerhaften Daten in Form von Skriptcode (z. B. JavaScript), die durch das Opfer Browser ausgeführt werden. Exploit ein XSS-Sicherheitsrisiken können Angreifer auf alle Funktionen der Anwendung im Kontext des Benutzers ausgeführt, die der Browser gestartet. XSS-Angriffe sind in der Regel durch eine Phishing-e-Mail Förderung des Benutzers auf einen Link klicken, der eine Verbindung mit der Anwendung und führt den Angriffscode initiiert.  
  
XSS wird häufig genutzt, Onlinebanking und e-Commerce-Szenarien, in denen ein Angreifer Einkäufe tätigen oder Geld im Kontext des Benutzers ausnutzen kann. Bei einem Ziel-Angriff auf eine benutzerdefinierte Identität auf webbasierte Anwendung können sie ein Angreifer ihre eigenen Identitäten erstellen, Ändern von Berechtigungen und Rechte und dazu führen, dass eine systematische Gefährdung.  
  
Zwar eine umfassende Erläuterung siteübergreifende Skripting und SQL Injection außerhalb dieses Dokument ist die [Open Web Application Security Projekt (OWASP)](https://www.owasp.org/index.php/Main_Page) eine Top-10 Liste mit tiefergehende Beschreibung der Sicherheitsrisiken und Gegenmaßnahmen veröffentlicht.  
  
Unabhängig von der die Investition in die Sicherheit der Infrastruktur Wenn nur mit schlechter Leistung entwickelte und schriftliche Anwendungen innerhalb dieser Infrastruktur bereitgestellt werden die Umgebung anfällig für Angriffe erfolgt. Auch gut gesicherte Infrastrukturen können nicht oft effektive Gegenmaßnahmen gegen diese Angriffe Anwendung bereitstellen. Das Problem zusammensetzen mangelhaft Anwendungen erfordert möglicherweise, dass Dienstkonten übermäßige Berechtigungen für die Anwendung Funktion erteilt werden.  
  
Microsoft Security Development Lifecycle (SDL) ist ein Satz von strukturelle Prozess-Steuerelemente, die zur Verbesserung der Sicherheit von Anfang frühzeitig in Anforderungen für die Datensammlung und über den gesamten Lebenszyklus der Anwendung erweitern, bis es außer Betrieb genommen wird funktionieren. Diese Integration von effektiven Sicherheitskontrollen ist nicht nur kritische aus Gründen der Sicherheit, es ist wichtig, um sicherzustellen, dass der anwendungssicherheit Kosten und effektive planen. Eine Anwendung für Sicherheitsprobleme bewerten, wenn sie Code vollständig effektiv ist muss Organisationen zur Sicherheit von Entscheidungen nur vor dem Erstellen oder auch nach der Anwendung bereitgestellt wurde. Eine Organisation die Möglichkeit, die der Anwendung Fehler zu beheben, bevor die Bereitstellung der Anwendung in der Produktion anfallen, Kosten und Verzögerungen, oder die Anwendung in der Produktion mit bekannte Sicherheitslücken, Verfügbarmachen von der Organisation gefährden bereitgestellt werden.  
  
Einige Organisationen setzen die gesamten Kosten ein Sicherheitsproblem in Produktionscode über $10.000 pro Problem beheben, und die App ohne eine effektive SDL entwickelt können mehr als zehn mit hohem Schweregrad Probleme pro 100.000 Codezeilen durchschnittliche. Eskalieren die Kosten schnell in großen Anwendungen. Im Gegensatz dazu viele Unternehmen Vergleichsmaßstab für weniger als einem Problem pro 100.000 Codezeilen in der endgültigen Code überprüfen Phase des SDL festgelegt, und richten Sie das Objekt für 0 (null) Probleme mit hohem Risiko Anwendungen in der Produktion.  
  
Implementierung des SDL erhöht die Sicherheit von einschließlich sicherheitsanforderungen frühzeitig in Anforderungen für die Datensammlung und Design einer Anwendung mit hohem Risiko Anwendungsmöglichkeiten; Erstellen von Bedrohungsmodellen erfordert effektive Schulung und Überwachung von Entwicklern. und klare, konsistente Code Standards und Verfahren erfordert. Das Ergebnis der ein SDL ist erhebliche Verbesserungen der anwendungssicherheit bei gleichzeitiger Reduzierung der Kosten zum Entwickeln, bereitstellen, verwalten und außer Betrieb nehmen eine Anwendung. Obwohl ausführliche Informationen zu den Entwurf und Implementierung von SDL Gegenstand dieses Dokuments ist, finden Sie in der [Microsoft Security Development Lifecycle](https://www.microsoft.com/security/sdl/default.aspx) ausführliche Anweisungen und Informationen.  
  


