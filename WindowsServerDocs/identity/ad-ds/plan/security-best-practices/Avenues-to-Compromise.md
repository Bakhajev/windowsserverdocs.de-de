---
ms.assetid: d7a4d2e1-217d-4ffc-93f0-817149bd9e7f
title: Wege der Gefährdung
description: ''
author: MicrosoftGuyJFlo
ms.author: joflore
manager: mtillman
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: identity-adds
ms.openlocfilehash: 916bffd4f83e5c72816035542772342010e1a67c
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/17/2019
ms.locfileid: "59874481"
---
# <a name="avenues-to-compromise"></a>Wege der Gefährdung

>Gilt für: Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

*Gesetz Nummer sieben: Das sicherste Netzwerk ist ein gut verwaltetes.* - [10 unveränderlichen Gesetze zur Sicherheitsverwaltung](https://technet.microsoft.com/library/cc722488.aspx)  
  
In Organisationen, die schwerwiegende Gefährdung Ereignisse aufgetreten sind, Bewertungen in der Regel anzuzeigen, dass die Unternehmen Einblick in den tatsächlichen Zustand der ihre IT-Infrastrukturen, eingeschränkte haben sich erheblich von unterscheiden kann ihre "beschriebenen" Gibt. Diese abweichungen Einbauen Sicherheitslücken, die verfügbar zu die Umgebung machen zu gefährden, häufig mit kleinen Ermittlung bis Gefährdung zu dem Punkt erreicht hat, an dem die Angreifer effektiv "die Umgebung besitzen".  
  
Ausführliche Bewertungen der AD DS-Konfiguration für diese Organisationen, public Key-Infrastrukturen (PKIs), Server, Arbeitsstationen, Anwendungen, Zugriffssteuerungslisten (ACLs) und anderen Technologien zu bieten, Fehlkonfigurationen und Sicherheitsrisiken, wenn wiederhergestellt, kann die anfängliche Beeinträchtigung verhindert haben.  
  
Analyse von IT-Dokumentation, Prozessen und Prozeduren identifiziert Schwachstellen von Lücken in den Methoden für die Verwaltung, die von Angreifern, um schließlich Berechtigungen zu erhalten, die verwendet wurden, um vollständig zu Active Directory-Gesamtstruktur gefährden genutzt wurden. Eine vollständig kompromittierte Gesamtstruktur ist eine der in dem Angreifer beeinträchtigen nicht nur einzelne Systeme, Anwendungen oder Benutzerkonten, und eskalieren ihren Zugriff, um eine Ebene von Berechtigungen zu erhalten, in dem sie ändern oder löschen alle Aspekte der Gesamtstruktur können. Wenn eine Active Directory-Installation, gefährdet ist, dass der Grad, Angreifer Änderungen vornehmen können, mit denen zu unterhalten eine Präsenz in der Umgebung oder noch schlimmer, zerstören Sie das Verzeichnis und die Systeme und Konten, die er verwaltet.  
  
Eine Zahl, die häufigsten ausgenutzten Sicherheitslücken in den Beschreibungen, die Folgen sind, zwar nicht Angriffe auf Active Directory ermöglichen sie es Angreifern, die einen Fuß in einer Umgebung herzustellen, die mit der Ausweitung von Berechtigungen (so genannte Berechtigungen ausgeführt werden kann Höhe)-Angriffe und um schließlich die als Ziel und AD DS zu beeinträchtigen.  
  
In diesem Abschnitt dieses Dokuments konzentriert sich auf, beschreibt die Mechanismen, mit denen Angreifer in der Regel für den Zugriff auf die Infrastruktur und schließlich um Angriffe erhöhte Rechte zu starten. Außerdem finden Sie in den folgenden Abschnitten:  
  
-   [Die Active Directory-Angriffsfläche verkleinern](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md) detailierte Empfehlungen für die sichere Konfiguration von Active Directory.  
  
-   [Überwachen von Active Directory für Anzeichen von gefährden](../../../ad-ds/plan/security-best-practices/Monitoring-Active-Directory-for-Signs-of-Compromise.md) Empfehlungen zum Ermitteln der Gefährdung  
  
-   [Planen der Gefährdung](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Planning-for-Compromise.md) allgemeine Ansätze zur Vorbereitung für Angriffe auf die Infrastruktur von IT und Business-Perspektiven  
  
> [!NOTE]  
> Obwohl in diesem Dokument in Active Directory und Windows-Systemen, die Teil einer AD DS-Domäne sind geht, konzentrieren sich Angreifer selten ausschließlich auf Active Directory und Windows. In Umgebungen mit einer Mischung aus Betriebssystemen, Verzeichnisse, Anwendungen und Datenrepositorys ist es üblich, die feststellen, dass auch nicht-Windows-Systeme gefährdet sind. Dies ist vor allem dann, wenn die Systeme bieten eine "Bridge" zwischen Windows und nicht-Windows-Umgebungen, wie z. B. Dateiserver, die von Windows und UNIX / Linux-Clients, Verzeichnisse, die Authentifizierungsdienste für verschiedene Betriebssysteme, bieten Zugriff auf oder Metadirectories, die Daten in unterschiedlichen Verzeichnissen zu synchronisieren.  
>   
> AD DS ist aufgrund der zentralisierten Zugriffs- und Verwaltungsfunktionen vorgesehen, die sie nicht nur auf Windows-Systeme, sondern auch für andere Clients bietet. Andere Verzeichnisse oder Anwendung, die Authentifizierungs- und Konfigurationsinformationen bereitstellt können und durch versierte Angreifer angestrebt werden soll. Obwohl dieses Dokument auf Schutzmaßnahmen konzentriert, die die Wahrscheinlichkeit, dass eine Gefährdung des Active Directory-Installationen, jedes Unternehmen reduzieren können, die nicht-Windows-Computer umfasst, sollten Repositorys von Verzeichnissen, Anwendungen oder Daten auch für vorbereiten Angriffe auf diesen Systemen.  
  
## <a name="initial-breach-targets"></a>Verletzung der anfänglichen Ziele  
Niemand erstellt absichtlich eine IT-Infrastruktur, die die Organisation gefährden verfügbar macht. Wenn Active Directory-Gesamtstruktur zuerst erstellt wird, liegt dies zumeist makellose und den aktuellen. Übergeben von Jahren und neuer Betriebssysteme und Anwendungen werden abgerufen, werden diese in der Gesamtstruktur hinzugefügt. Wie die Verwaltbarkeit Vorteile von Active Directory erkannt werden, mehr Inhalt zum Verzeichnis hinzugefügt wird, mehr Menschen integrieren Sie ihren Computer oder Anwendungen mit AD DS und Domänen werden aktualisiert, um die meisten neuen Funktionen zu unterstützen. aktuelle Versionen des Windows-Betriebssystems. Was geschieht, auch im Laufe der Zeit ist jedoch auch, wenn eine neue Infrastruktur hinzugefügt wird, andere Teile der Infrastruktur können auch wie ursprünglich nicht beibehalten, Systeme und Anwendungen ordnungsgemäß funktionieren, und daher keinen empfangen beginnen Aufmerksamkeit und Organisationen zu vergessen, dass sie ihre vorherige Infrastruktur nicht entfernt haben. Basierend auf den bei der Bewertung von kompromittierter Infrastrukturen, sehen wir die älteren, größeren und komplexeren der Umgebung, desto wahrscheinlicher ist es, dass es zahlreiche Instanzen der häufigsten ausgenutzten Sicherheitsrisiken gibt.  
  
Unabhängig von der Motivation des Angreifers starten die meisten Verletzungen der datensicherheit mit der Kompromittierung von ein oder zwei Systeme zu einem Zeitpunkt ein. Die ersten Ereignisse bzw. Einstiegspunkte mit dem Netzwerk nutzen häufig Sicherheitsrisiken, die konnte wurden behoben, aber nicht. Die [2012 Data Breach Untersuchungen Bericht (DBIR)](http://www.verizonbusiness.com/resources/reports/rp_data-breach-investigations-report-2012_en_xg.pdf), die eine jährliche Studie, die durch das Verizon-Risiko-Team in Zusammenarbeit mit einer Reihe von nationale Sicherheit, Behörden und anderen Unternehmen erstellt wird, gibt an, dass 96 Prozent Angriffe "nicht wurden äußerst schwierig"und"97 Prozent aller sicherheitsverletzungen waren vermeidbar durch einfache oder dazwischen liegenden Steuerelemente". Diese Ergebnisse möglicherweise eine direkte Folge der häufigsten ausgenutzten Sicherheitsrisiken, die folgen.  
  
### <a name="gaps-in-antivirus-and-antimalware-deployments"></a>Lücken in der Antiviren- und Antischadsoftware-Bereitstellungen  
*Gesetz Nummer 8: Eine veraltete malwareüberprüfung ist überhaupt nur nur unwesentlich besser geeignet als keine Überprüfung.* - [10 unveränderlichen Gesetze zur Sicherheit (Version 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
Analyse von Organisationen Antivirus- und Antischadsoftware-Bereitstellungen wird häufig eine Umgebung, in der meisten Arbeitsstationen sind, konfiguriert mit Antiviren- und Antischadsoftware-Software, die aktiviert ist und aktuelle. Ausnahmen sind in der Regel Arbeitsstationen, auf denen die Umgebung oder Mitarbeiter Unternehmensgeräte selten für die Antivirus-, die und antischadsoftwareüberprüfungen Software schwierig sein kann Verbindung, bereitstellen, konfigurieren und aktualisieren.  
  
Server Auffüllungen, sind jedoch, dass weniger konsistent in vielen gefährdeten Umgebungen geschützt. Wie Sie in der [2012 Data Breach Untersuchungen](http://www.verizonbusiness.com/resources/reports/rp_data-breach-investigations-report-2012_en_xg.pdf)94 Prozent aller Daten gefährdet beteiligten Servern, die eine Erhöhung 18 Prozent gegenüber dem vorherigen Jahr darstellt und 69 Prozent der Angriffe integriert Malware. In Server-Auffüllungen ist es nicht ungewöhnlich, feststellen, dass Antivirus- und Antischadsoftware-Installationen nicht einheitlich konfiguriert, veraltete, falsch konfiguriert oder auch deaktiviert werden. In einigen Fällen ist die Software Antivirus- und antischadsoftwareüberprüfungen Administrationsmitarbeiter deaktiviert, aber in anderen Fällen Angreifer, deaktivieren Sie die Software nach dem einen Server mit anderen Sicherheitsrisiken der betreffenden beeinträchtigen. Wenn die Software Antivirus- und antischadsoftwareüberprüfungen deaktiviert ist, die Angreifer dann Malware einzuschleusen, auf dem Server und konzentrieren Gefährdung für die Auffüllung Server weitergeben.  
  
Es ist wichtig, nicht nur um sicherzustellen, dass Ihre Systeme mit aktuellen, umfassende Malware Protection geschützt sind, aber auch zum Überwachen von Systemen zum Deaktivieren oder Entfernen der Antiviren-und Antischadsoftware und Schutz automatisch neu gestartet, wenn er ist manuell deaktiviert. Obwohl Sie keine Software Antivirus- und antischadsoftwareüberprüfungen Prävention und Erkennung aller Infektionen garantieren kann, kann eine ordnungsgemäß konfigurierte ist und bereitgestellte Antivirus- und Antischadsoftware-Implementierung die Wahrscheinlichkeit einer Infektion reduzieren.  
  
### <a name="incomplete-patching"></a>Unvollständige Patchen  
*Gesetz Nummer 3: Wenn Sie sich mit Sicherheitsupdates behalten keine, nicht Ihr Netzwerk Ihre für Long-Wert.* - [10 unveränderlichen Gesetze zur Sicherheitsverwaltung](https://technet.microsoft.com/library/cc722488.aspx)  
  
Microsoft-Sicherheitsbulletins am zweiten Dienstag eines jeden Monats, veröffentlicht, jedoch in seltenen Fällen Sicherheitsupdates zwischen der monatlichen Sicherheitsupdates veröffentlicht werden (diese werden auch bezeichnet als "Out-of-Band"-Updates) beim richtet sich des Sicherheitsrisikos zu darstellen eine dringende Risiko für Kundensysteme werden soll. Ob ein kleines Unternehmen die Windows-Computern mit Windows Update zu verwenden, um System- und Patchen von Anwendung zu verwalten oder eine große Organisation konfiguriert wird verwendet, Verwaltungssoftware wie z. B. System Center Configuration Manager (SCCM) zum Bereitstellen von Patches gemäß detaillierte, hierarchische Pläne, viele Kunden Patchen Sie ihre Windows-Infrastrukturen relativ zeitnah.  
  
Allerdings einige Infrastrukturen enthalten nur die Windows-Computer und die Microsoft-Anwendungen, und in gefährdeten Umgebungen, es ist üblich, feststellen, dass die Patch-Management-Strategie der Organisation Lücken enthält. Windows-Systeme in diesen Umgebungen sind inkonsistent gepatcht. Nicht-Windows-Betriebssystemen werden sporadisch auf, wenn sich alle gepatcht. Kommerzielle Standardanwendungen (COTS) enthalten, die Sicherheitsrisiken für die Patches vorhanden sind, aber noch nicht angewendet wurden. Netzwerkgeräte werden häufig so konfiguriert, mit den werkseinstellungen Anmeldeinformationen ein, und keine Firmwareupdates Jahre nach ihrer Installation. Anwendungen und Betriebssysteme, die nicht mehr von den jeweiligen Herstellern unterstützt werden bleiben häufig ausgeführt werden, trotz der Tatsache, dass sie nicht mehr vor Sicherheitsrisiken gepatcht werden können. Jedes dieser Systeme nicht gepatchte stellt eine andere mögliche Einstiegspunkt für Angreifer dar.  
  
Konsumerisierung der IT im Besitz eingeführter zusätzlicher Herausforderungen in diesen Mitarbeiter hat, Geräte den Zugriff auf Unternehmensdaten im Besitz des Benutzers verwendet werden, und der Organisation unterliegt möglicherweise wenig keine Kontrolle über die Patches und Konfiguration von persönlichen Geräten von Mitarbeitern. Enterprise-Class-Hardware im Lieferumfang von in der Regel Unternehmen Konfigurationsoptionen und Verwaltungsfunktionen, auf Kosten der weniger Wahl in individuelle Anpassung und Gerät-Auswahl. Mitarbeiter ausgerichtete Hardware bietet eine größere Hersteller, Lieferanten, Sicherheitsfeatures für Hardware, Software-Sicherheitsfunktionen, Verwaltungsfunktionen und Konfigurationsoptionen, und viele Unternehmensfunktionen können vollständig vorhanden sein.  
  
#### <a name="patch-and-vulnerability-management-software"></a>Patches und Sicherheitsrisiken Verwaltungssoftware  
Ist eine effektive Patch Management-System für die Windows-Systeme und Microsoft-Anwendungen, ist Teil der Angriffsfläche, die ungepatchte Sicherheitsrisiken erstellen wurde behoben. Es sei denn, der nicht-Windows-Systeme, die nicht-Microsoft-Anwendungen, die Netzwerkinfrastruktur und die Geräte der Mitarbeiter auch auf dem neuesten Stand Patches und andere Updates beibehalten werden, bleibt die Infrastruktur jedoch anfällig. In einigen Fällen kann der Hersteller der Anwendung automatischen Aktualisierungsfunktionen bereitstellen; in anderen Fällen möglicherweise entwickeln einen Ansatz zum regelmäßig abrufen und Anwenden von Patches und andere Updates werden muss.
  
### <a name="outdated-applications-and-operating-systems"></a>Veraltete Anwendungen und Betriebssysteme  
*"Sie können keinen sechs Jahre alten Betriebssystem schützt Sie vor Angriffen 6-Monats-alte erwarten."* -Information Security mit zehn Jahren Berufserfahrung Sichern von Enterprise-Installationen  
  
Obwohl "Abrufen des aktuellen, auf dem Laufenden bleiben" mag wie eine marketing-Ausdruck, veraltete Betriebssysteme und Anwendungen in vielen Organisationen Risiko erstellen IT-Infrastrukturen. Ein Betriebssystem installiert ist, die in 2003 veröffentlicht wurde möglicherweise weiterhin vom Hersteller unterstützt werden und mit Updates an, um Sicherheitslücken, bereitgestellt werden, aber diese Betriebssystem Sicherheitsfeatures, die in neueren Versionen des Betriebssystems nicht enthalten kann. Betriebssysteme können sogar erfordern Herabsetzung der bestimmte AD DS-Sicherheitskonfiguration auf die weniger Funktionen dieser Computer zu unterstützen.  
  
Anwendungen, die geschrieben wurden, um ältere Authentifizierungsprotokolle verwenden von Anbietern, die nicht mehr in der Regel die Anwendung unterstützen können nicht retooled werden, um leistungsfähigere Authentifizierungsmechanismen zu unterstützen. Active Directory-Domäne der Organisation kann jedoch noch konfiguriert werden, zum Speichern von LAN Manager-Hashes oder reversibel verschlüsselte Kennwörter, um solche Anwendungen zu unterstützen. Vor der Einführung von neueren Betriebssystemen geschriebene Anwendungen funktionieren möglicherweise nicht gut oder überhaupt auf aktuellen Betriebssystemen, dass Organisationen die ältere als auch ältere Systeme, verwalten und in einigen Fällen vollständig nicht unterstützter Hardware und Software.  
  
Selbst in Fällen, in denen Organisationen ihre Domänencontroller auf Windows Server 2012, Windows Server 2008 R2 oder Windows Server 2008 aktualisiert haben, ist es üblich, finden Sie wichtige Teile des Members Auffüllung ausgeführt werden, dass Sie Windows Server 2003, Windows server 2000 Server oder Windows NT Server 4.0 (die vollständig unterstützt werden). Je länger eine Organisation Alterung Systeme verwaltet, die Abweichung zwischen Features je größer und umso wahrscheinlicher wird es, Produktionssysteme nicht unterstützt werden. Darüber hinaus, je länger die Active Directory-Gesamtstruktur wird beibehalten, und je mehr wir beobachten, dass es sich bei älteren Systemen und Anwendungen in upgradeplänen fehlen. Dies kann bedeuten, dass ein einzelner Computer mit einer einzelnen Anwendung Domänen- oder gesamtstrukturweite Sicherheitsrisiken führen kann, da Active Directory konfiguriert ist, um die legacy-Protokolle und Authentifizierungsmechanismen zu unterstützen.  
  
Um ältere Systeme und Anwendungen zu vermeiden, sollten Sie zuerst feststellen möchten, identifizieren und Katalogisieren diese, und klicken Sie dann auf Sie bestimmen, ob aktualisieren oder Ersetzen Sie die Anwendung oder den Host. Obwohl es schwierig sein kann, Ersetzungen für sehr spezielle Anwendungen suchen, für die vorhanden, weder unterstützt noch einen Upgradepfad ist, können Sie möglicherweise ein Konzept namens "creative Zerstörung" nutzen, die ältere Anwendung durch eine neue Anwendung ersetzen die die notwendige Funktionalität bereitstellt. [Planen der Gefährdung](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Planning-for-Compromise.md) wird ausführlicher im "Planen für Kompromiss" weiter unten in diesem Dokument beschrieben.  
  
### <a name="misconfiguration"></a>Misconfiguration  
*Gesetz Nummer 4: Passiert nicht sehr sinnvoll auf Sicherheitsupdates auf einem Computer installieren, die zunächst noch nie gesichert wurde.* - [10 unveränderlichen Gesetze zur Sicherheitsverwaltung](https://technet.microsoft.com/library/cc722488.aspx)  
  
Auch in Umgebungen, in denen Systeme im Allgemeinen aktuelle und gepatchten erhalten bleiben, identifizieren wir häufig Lücken oder Konfigurationsfehler in das Betriebssystem, Anwendungen, die auf Computern und Active Directory ausgeführt. Einige Fehlkonfigurationen verfügbar machen, nur auf den lokalen Computer zu gefährden, aber nach ein Computer "einen Besitzer hat," Angreifer in der Regel konzentrieren weiterverbreitet Gefährdung auf anderen Systemen und schließlich an Active Directory. Es folgen einige der häufigsten Fehlerkategorien in denen wir Konfigurationen identifizieren, die Risiken einleiten.  
  
#### <a name="in-active-directory"></a>In Active Directory  
Die Konten in Active Directory, die am häufigsten von Angreifern Ziel sind diejenigen, die Mitglieder die meisten sehr privilegierten Gruppen wie z. B. Mitglieder der Domänen-Admins (DA), Enterprise Admins (EA) oder integrierten Administratoren (BA)-Gruppen in Active Das Verzeichnis. So, dass die Angriffsfläche dieser Gruppen beschränkt ist, sollte die Mitgliedschaft dieser Gruppen auf die kleinste Anzahl von Konten möglich reduziert werden. Es ist auch möglich, "permanent" Mitgliedschaft in dieser privilegierten Gruppen zu beseitigen, Das heißt, können Sie Einstellungen implementieren, mit denen Sie vorübergehend diese Gruppen auffüllen, nur, wenn ihre Domäne und Gesamtstruktur-Berechtigungen erforderlich sind. Wenn höher privilegierte Konten verwendet werden, sollten sie nur auf angegebenen, sichere Systeme wie Domänencontroller oder sichere administrative Hosts verwendet werden. Ausführliche Informationen, um alle diese Konfigurationen implementieren finden Sie im [die Active Directory-Angriffsfläche verkleinern](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md).  
  
Wenn wir die Mitgliedschaft der höchsten privilegierten Gruppen in Active Directory zu evaluieren, finden wir häufig übermäßige Mitgliedschaft in jedem der drei Gruppen die meisten Berechtigungen. In einigen Fällen müssen Organisationen Dutzende oder gar Hunderte von Konten in Gruppen von Daten. Organisationen setzen Konten in anderen Fällen direkt in der integrierten Gruppe Administratoren, die der Ansicht, dass die Gruppe ist "weniger privilegierten" als der Gruppe DAs. Es ist nicht. Wir finden häufig eine Reihe von ständigen Mitglieder der Gruppe "EA" in der Gesamtstruktur-Stammdomäne, trotz der Tatsache, dass EA Berechtigungen nur selten und temporär erforderlich sind. Suchen von täglichen Administratorkonto eine IT-Benutzers in alle drei Gruppen ist auch üblich, obwohl dies eine effektiv zonenredundante Konfiguration ist. Siehe [die Active Directory-Angriffsfläche verkleinern](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md), ob ein Konto dauerhaft Mitglied einer dieser Gruppen oder alle, wird das Konto kompromittieren und sogar zerstören, AD DS-Umgebung und den Systemen verwendet werden kann und Konten, die verwaltet werden. Empfehlungen für die sichere Konfiguration und Verwendung von privilegierten Konten in Active Directory finden Sie unter [die Active Directory-Angriffsfläche verkleinern](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md).  
  
#### <a name="on-domain-controllers"></a>Auf einem Domänencontroller  
Wenn der Domänencontroller, bewerten wir oft finden wir fündig konfiguriert und verwaltet nicht anders als Mitgliedsserver. Domänencontroller führen gelegentlich die gleichen Anwendungen und Dienstprogramme, die auf Mitgliedsservern installiert werden, nicht verwendet werden, weil sie auf den Domänencontrollern benötigt werden, aber da die Anwendungen Teil eines standard sind. Diese Anwendungen können Mindestfunktionalität bereitstellen, auf den Domänencontrollern aber hinzufügen erheblich die Angriffsfläche, die Konfigurationseinstellung, die Ports öffnen, Erstellen von weit reichenden Berechtigungen Dienstkonten oder gewähren von Zugriff auf das System von Benutzern erfordern, die nicht zu einem Domänencontroller für einen anderen Zweck als Authentifizierungs- und Anwendung von Gruppenrichtlinien eine Verbindung herstellen soll. In einigen Sicherheitslücken haben Angreifer Tools verwendet, die bereits, auf einem Domänencontroller nicht nur installiert wurden für den Zugriff auf den Domänencontrollern, jedoch zu ändern oder die AD DS-Datenbank zu beschädigen.  
  
Wenn wir die Internet Explorer-Konfigurationseinstellungen auf einem Domänencontroller zu extrahieren, ist festzustellen, dass Benutzer mit Konten angemeldet haben, die hohe Berechtigungen in Active Directory und die Konten verwendet haben, um im Internet und Intranet in der Domäne zugreifen Controller. In einigen Fällen die Konten Internet Explorer-Einstellungen konfiguriert haben, auf den Domänencontrollern, um den Download des Internet Content zuzulassen und Freeware Utilities von Internetsites heruntergeladen und auf den Domänencontrollern installiert wurden. Verstärkte Sicherheitskonfiguration für Internet Explorer ist für Benutzer und Administratoren standardmäßig aktiviert, aber wir häufig beobachten, wurde für Administratoren deaktiviert. Wenn ein Konto mit weitreichenden greift auf das Internet und lädt Inhalt, auf jedem Computer herunter, wird dieser Computer schwere gefährdet. Wenn der Computer ein Domänencontroller ist, wird die gesamte AD DS-Installation gefährdet.  
  
##### <a name="protecting-domain-controllers"></a>Schützen von Domänencontrollern  
Domänencontroller sollten als kritische Infrastrukturkomponenten behandelt, präziser gesichert und mehr fest als Datei-, Druck- und Anwendungsserver konfiguriert werden. Domänencontroller sollten keine Software ausführen, die für den Domänencontroller-Funktion ist nicht erforderlich oder nicht den Domänencontroller vor Angriffen zu schützen. Domänencontroller für den Internetzugriff nicht zugelassen werden sollen, und die Sicherheitseinstellungen konfiguriert und durch Gruppenrichtlinienobjekte (GPOs) erzwungen werden soll. Ausführliche Empfehlungen für die sichere Installation, Konfiguration und Verwaltung von Domänencontrollern finden Sie unter [Domäne-Controllern für Angriff Sichern](../../../ad-ds/plan/security-best-practices/Securing-Domain-Controllers-Against-Attack.md).  
  
#### <a name="within-the-operating-system"></a>Innerhalb des Betriebssystems  
*Gesetz Nummer zwei: Wenn ein Angreifer das Betriebssystem auf Ihrem Computer ändern kann, ist es nicht mehr Ihrem Computer.* - [10 unveränderlichen Gesetze zur Sicherheit (Version 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
Zwar einige Organisationen basislinienkonfigurationen für Server mit unterschiedlichen Typen zu erstellen und begrenzte Anpassungen des Betriebssystems nach der Installation, ereignisverarbeitungsmodul Analyse der gefährdeten Umgebungen oft große Anzahl von Servern, bereitgestellt einer Ad-hoc-Weise und manuell und unabhängig voneinander konfiguriert. Konfigurationen zwischen zwei Servern, die die gleiche Funktion ausführen möglicherweise ganz anders, wenn keiner der beiden Server sicher konfiguriert ist. Im Gegensatz dazu können Server Konfigurationsbasislinien durchgängig erzwungen, aber auch konsistent falsch konfiguriert; d. h. werden Server in einer Weise konfiguriert, die das gleiche Sicherheitsrisiko auf allen Servern eines bestimmten Typs erstellt. Fehlkonfiguration enthält Methoden wie z. B. das Deaktivieren von Sicherheitsfunktionen zu nutzen, erteilen zu viele Rechte und Berechtigungen für Konten (insbesondere Dienstkonten), identische lokale Anmeldeinformationen für Systeme, und gewähren des Zugriffs Installation von nicht autorisierte Anwendungen und Dienstprogramme, die Sicherheitsrisiken, die für ihre eigenen erstellen.  
  
##### <a name="disabling-security-features"></a>Deaktivieren von Sicherheitsfunktionen  
Organisationen deaktivieren manchmal die Windows-Firewall mit erweiterter Sicherheit (Security, WFAS) aus dem glauben, dass WFAS schwierig ist, zu konfigurieren oder Arbeit-Intensive Konfiguration erfordert. Seit Windows Server 2008, wenn jede Rolle oder eines Features auf einem Server installiert ist, standardmäßig mit den geringsten Berechtigungen, die erforderlich sind, für die Rolle oder Feature-Funktion konfiguriert und die Windows-Firewall automatisch konfiguriert wird, wird um die Rolle zu unterstützen. oder ein Feature. Organisationen erhöht die Angriffsfläche der gesamten Windows-Umgebung, um WFAS deaktivieren (und nicht eine andere hostbasierte Firewall verwenden, an seiner Stelle). Umkreisfirewalls bieten einige Schutz vor Angriffen, die direkt aus dem Internet eine Umgebung, aber sie bieten keinen Schutz gegen Angriffe, die andere Angriffsvektoren, z. B. ausnutzen [Drive-By-](https://www.microsoft.com/security/sir/glossary/drive-by-download-sites.aspx) Angriffe und Angriffe, die von anderen beeinträchtigten Systeme im Intranet stammen.  
  
Benutzereinstellungen für die Benutzerkontensteuerung (UAC) sind auf Servern manchmal deaktiviert, da administrative Mitarbeiter die eingabeaufforderungen tiefgreifende finden. Obwohl [Microsoft Support-Artikel 2526083](https://support.microsoft.com/kb/2526083) Beschreibt Szenarien, die in der UAC kann, unter Windows Server deaktiviert werden, es sei denn, Sie einem Server ausführen, Core-Installation (, in denen UAC ist standardmäßig deaktiviert), sollten Sie nicht die UAC deaktivieren, auf Servern ohne eine sorgfältige Überlegung und Forschung.  
  
In anderen Fällen sind Server so konfiguriert, dass weniger Werte sichere da Organisationen veralteter Server-Konfigurationseinstellungen auf neue Betriebssysteme, z. B. das Anwenden von Windows Server 2003-konfigurationsbaselines auf Computern mit Windows Server 2012, Windows angewendet werden Server 2008 R2 oder Windows Server 2008, ohne die Baselines, damit die Änderungen im Betriebssystem. Überprüfen Sie anstatt mit alten Server Baselines an, um neue Betriebssysteme, bei der Bereitstellung eines neuen Betriebssystems, Änderungen der Sicherheit und Konfigurationseinstellungen, um sicherzustellen, dass die Einstellungen, die implementiert anwendbar ist und für das neue Betriebssystem geeignet sind.  
  
##### <a name="granting-excessive-privilege"></a>Übermäßige Rechte gewähren  
In nahezu jeder Umgebung, die wir eingeschätzt haben, erhält die übermäßige Rechte auf lokalen und domänenbasierten Konten auf Windows-Systemen. Benutzer erhalten lokale Administratorrechte auf ihren Arbeitsstationen, Mitgliedsserver führen Dienste, mit der rechten über hinaus konfiguriert werden, was sie benötigen, funktioniert, und lokale Gruppe der Administratoren für die Auffüllung Server enthalten, Dutzende oder sogar Hunderte von lokale und Domänenkonten. Gefährdung der nur ein privilegiertes Konto auf einem Computer ermöglicht, um die Konten von jedem Benutzer bzw. jeder Dienst, der auf dem Computer und -Anmeldeinformationen Harvest und nutzen die Gefährdung an andere Systeme weitergeben anmeldet zu gefährden.  
  
Obwohl die Pass-the-Hash (PTH) und anderen Angriffen mit gestohlenen Anmeldeinformationen allgegenwärtig noch heute sind, sie ist, da kostenlos verfügbare Tools, die sie auf einfache Weise und leicht extrahiert die Anmeldeinformationen eines anderen privilegierten Konten, wenn ein Angreifer bereits Administrator- oder auf Systemebene, die auf einen Computer zugreifen. Auch ohne die Tools, die ermöglicht das Sammeln von Anmeldeinformationen von anmeldesitzungen, kann Angreifer mit privilegiertem Zugriff auf einen Computer ganz einfach tastatureingabeprotokollierung installieren, die Tastatureingaben, Screenshots und Inhalt der Zwischenablage zu erfassen. Ein Angreifer mit privilegiertem Zugriff auf einen Computer Antimalware-Software deaktivieren, Rootkits zu installieren, geschützte Dateien zu ändern oder Schadsoftware installieren, auf dem Computer, die Angriffe automatisiert oder wird von einem Server in einem [Drive-By-](https://www.microsoft.com/security/sir/glossary/drive-by-download-sites.aspx) Host.  
  
Die Taktiken, die zum Erweitern einer sicherheitsverletzung hinter einem einzelnen Computer variieren, aber der Schlüssel zur Weitergabe der Gefährdung ist die Übernahme von hoch privilegierten Zugriff auf zusätzliche Systeme. Reduzieren die Anzahl der Konten mit privilegiertem Zugriff auf jedes System, verringern Sie die Angriffsfläche, nicht nur von diesem Computer, aber die Wahrscheinlichkeit, dass ein Angreifer, die wichtige Anmeldeinformationen auf dem Computer zu sammeln.  
  
##### <a name="standardizing-local-administrator-credentials"></a>Standardisierung lokale Administratoranmeldeinformationen  
Es ist seit langem Debatte zwischen Sicherheitsexperten, ob der Wert in das Umbenennen von lokaler Administratorkonten auf Windows-Computer vorhanden ist. Was ist Informationen zu lokalen Administratorkonten wichtig, ob sie über mehrere Computer mit dem gleichen Benutzernamen und Kennwort konfiguriert sind.  
  
Wenn das lokale Administratorkonto wird mit dem Namen auf den gleichen Wert auf Servern, und das Konto zugewiesene Kennwort auch auf den gleichen Wert konfiguriert ist, können der Angreifer die Kontoanmeldeinformationen auf einem Computer, auf denen der Administrator oder auf Systemebene Zugriff extrahieren. verfügt über abgerufen wurden. Der Angreifer muss nicht zuerst das Administratorkonto gefährden; Sie müssen nur das Konto eines Benutzers gefährden, der Mitglied der lokalen Gruppe Administratoren oder des Dienstkontos, das zum Ausführen als "LocalSystem" oder mit Administratorrechten konfiguriert ist. Der Angreifer kann dann extrahieren die Anmeldeinformationen für das Administratorkonto und diese Anmeldeinformationen in netzwerkanmeldungen auf anderen Computern im Netzwerk wiedergegeben.  
  
Solange Sie einen anderen Computer verfügt über ein lokales Konto mit der gleichen Benutzernamen und Kennwort (oder Kennworthash) als die Kontoanmeldeinformationen, die angezeigt wird, werden, wird der Anmeldeversuch ist erfolgreich, und der Angreifer erhält privilegierten Zugriff auf den Zielcomputer. In aktuellen Versionen von Windows, das integrierte Administratorkonto ist [standardmäßig deaktiviert,](https://technet.microsoft.com/library/cc753450.aspx), aber in älteren Betriebssystemen, das Konto ist standardmäßig aktiviert.  
  
> [!NOTE]  
> Einige Organisationen haben absichtlich lokale Administratorkonten, in dem glauben aktiviert sein, dass dies eine "Sicherung" enthält, für den Fall, dass ein System alle anderen privilegierten Konten gesperrt werden konfiguriert. Allerdings kann auch, wenn das lokale Administratorkonto deaktiviert ist, und es sind keine anderen Konten zur Verfügung, mit die das Konto oder melden Sie sich bei dem System mit Administratorrechten können, das System das integrierte lokale Administratorkonto im abgesicherten Modus neu gestartet werden Konto kann erneut aktiviert werden, wie in beschrieben [Microsoft Support-Artikel 814777](https://support.microsoft.com/kb/814777). Darüber hinaus, wenn das System weiterhin erfolgreich Gruppenrichtlinienobjekte angewendet wird, ein GPO kann geändert werden, um das Administratorkonto (vorübergehend) erneut zu aktivieren oder eingeschränkte Gruppen kann so konfiguriert werden, dass ein domänenbasiertes Konto der lokalen Gruppe "Administratoren" hinzufügen. Reparaturen ausgeführt werden können, und das Administratorkonto kann wieder deaktiviert werden. Um effektiv zu verhindern, der lokale Anmeldeinformationen des integrierte Administratorkontos verwendet einen lateralen Kompromiss, müssen eindeutige Benutzernamen und Kennwörter für lokale Administrator-Konten konfiguriert werden. Um eindeutige Kennwörter für lokale Administratorkonten über ein GPO bereitzustellen, finden Sie unter [Lösung für die Verwaltung von integrierten Administratorkonto-Kennwort über ein Gruppenrichtlinienobjekt](https://technet.microsoft.com/mt227395.aspx) auf Technet.  
  
##### <a name="permitting-installation-of-unauthorized-applications"></a>Installation von nicht autorisierten Anwendungen zulassen  
*Gesetz Nummer eins: Wenn ein Angreifer Sie ausführen, sein Programm auf Ihrem Computer überreden kann, ist es nicht mehr ausschließlich auf Ihrem Computer.* - [10 unveränderlichen Gesetze zur Sicherheit (Version 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
Ob es sich bei eine Organisation einheitliche Einstellungen auf Servern bereitgestellt wird, sollte die Installation von Anwendungen, die nicht Teil der definierten Rolle eines Servers sind nicht zugelassen. Dadurch, dass die Software installiert werden, die nicht Teil einer angegebenen Serverfunktionen ist, werden Server unabsichtlicher oder böswilliger Installation der Software verfügbar gemacht, die Angriffsfläche des Servers erhöht, Sicherheitslücken von Anwendungen führt oder bewirkt, dass Instabilität des Systems.  
  
#### <a name="applications"></a>Anwendungen  
Wie zuvor beschrieben, sind häufig Anwendungen installiert und so konfiguriert, dass die um Konten zu verwenden, die gewährt werden, dass mehr Berechtigungen als die Anwendung tatsächlich benötigt. In einigen Fällen gibt die Dokumentation der Anwendung an, dass die Dienstkonten müssen Mitglieder der lokalen Gruppe Administratoren des Servers sein, oder führen Sie im Kontext von "LocalSystem" konfiguriert werden müssen. Dies ist häufig nicht, weil die Anwendung, diese Rechte erfordert zu, abererfordert da welche Rechte und Berechtigungen bestimmen einer Anwendung Service-Konten müssen Investitionen in zusätzliche Zeit und Mühe. Wenn eine Anwendung mit den Mindestberechtigungen erforderlich, für die Anwendung und die konfigurierten Features funktionieren nicht installiert wird, wird das System für Angriffe verfügbar gemacht, die Berechtigungen der Anwendung ohne jede Angriff auf das Betriebssystem selbst nutzen hat.  
  
### <a name="lack-of-secure-application-development-practices"></a>Mangel an Methoden für die sichere Anwendungsentwicklung  
Infrastruktur vorhanden ist, um Business-Workloads zu unterstützen. Bei dieser Workloads in benutzerdefinierten Anwendungen implementiert werden, ist es unerlässlich, um sicherzustellen, dass die Anwendungen entwickelt werden mithilfe der sicheren best Practices. Ursachenanalyse von Vorfällen für unternehmensweite deckt häufig, dass eine Kompromittierung ein anfänglichen durch benutzerdefinierte wirken sich Ausfälle Anwendungen, vor allem diejenigen, die Internet sind mit Internetzugriff. Die meisten dieser Kompromisse über Gefährdung des bekannten Angriffen wie Einschleusung von SQL-Befehlen (SQLi) erreicht werden, und Cross-Site-scripting (XSS)-Angriffe.  
  
SQL-Einschleusung ist ein Sicherheitsrisiko, das Anwendung, die eine benutzerdefinierte Eingabe, um eine SQL-Anweisung ändern, die an die Datenbank, für die Ausführung übergeben wird ermöglicht. Diese Eingabe kann über ein Feld in der Anwendung, einen Parameter (z. B. die Abfragezeichenfolge oder ein Cookie) oder andere Methoden bereitgestellt werden. Das Ergebnis von diesem Injection ist, dass die SQL-Anweisung bereitgestellt, um die Datenbank grundlegend anders, als was vom Entwickler vorgesehen ist. Nehmen wir z. B. eine allgemeine Abfrage, die bei der Auswertung der ein Benutzername/Kennwort-Kombination verwendet:  
  
`SELECT userID FROM users WHERE username = 'sUserName' AND password = 'sPassword'`  
  
Wenn dies vom Server empfangen wird, weist er den Server zu suchen Sie in der Tabelle zurückgeben, alle "UserID", den Benutzernamen und das Kennwort mit denen übereinstimmen durch den Benutzer (vermutlich über ein Anmeldeformular irgendeiner Art) bereitgestellt. Natürlich ist die Absicht des Entwicklers in diesem Fall nur einen gültigen Datensatz zurück, wenn der Benutzer einen richtigen Benutzernamen und ein Kennwort angegeben werden können. Ist entweder falsch, wird der Datenbankserver in der Lage, suchen einen übereinstimmenden Datensatz, und ein leeres Ergebnis zurückgeben.  
  
Das Problem tritt auf, wenn ein Angreifer ein unerwartetes wie das Bereitstellen ihrer eigenen SQL anstelle von gültigen Daten ausführt. Da SQL interpretierte auf dynamisch vom Datenbankserver ist, würde der eingefügte Code verarbeitet werden, als ob der Entwickler in sich selbst abgelegt haben. Wenn sich der Angreifer beispielsweise **Administrator** für die Benutzer-ID und **Xyz** oder **1 = 1** als Kennwort verwenden, die resultierende Anweisung, die von der Datenbank verarbeitet werden sollen:  
  
`SELECT userID FROM users WHERE username = 'administrator' AND password = 'xyz' OR 1=1`  
  
Wenn diese Abfrage vom Datenbankserver verarbeitet wird, werden alle Zeilen in der Tabelle in der Abfrage zurückgegeben werden da 1 = 1, daher immer als "true" ausgewertet wird, dass es keine Rolle spielt, wenn Sie den richtigen Benutzernamen und das Kennwort bekannt ist oder angegeben. Das Ergebnis in den meisten Fällen ist, dass der Benutzer als der erste Benutzer in der Datenbank des Benutzers angemeldet sein. in den meisten Fällen wird dies Administrator sein.  
  
Zusätzlich zum Protokollieren einfach auf falsch formatierte SQL-Anweisungen, wie dies zum Hinzufügen verwendet werden kann, löschen oder Ändern von Daten, oder sogar ganze Tabellen (löschen) aus einer Datenbank gelöscht. Betriebssystembefehle können in den extremsten Fällen, in denen SQLi mit übermäßigen Berechtigungen kombiniert wird, ausgeführt werden, um die Erstellung von neuen Benutzern Angriffstools herunterladen oder andere Aktionen der Angreifer die Auswahl zu aktivieren.  
  
Siteübergreifende Skripterstellung, wird das Sicherheitsrisiko in die Ausgabe der Anwendung eingeführt. Ein Angriff beginnt mit einem Angreifer falsch formatierte Daten an die Anwendung bereitstellt, aber in diesem Fall ist die fehlerhaften Daten in Form von Skriptcode (z. B. JavaScript), die vom Browser des Opfers ausgeführt wird. Ausnutzung einer XSS-Sicherheitsrisiken können Angreifer auf alle Funktionen der Anwendung im Kontext des Benutzers ausgeführt werden, der der Browser gestartet. XSS-Angriffen werden in der Regel von einem Phishing-e-Mail, Förderung des Benutzers auf einen Link klicken, der eine Verbindung mit der Anwendung her und führt den Angriffscode initiiert.  
  
XSS ausgenutzt wird häufig in Onlinebanking und e-Commerce-Szenarien, in denen ein Angreifer Einkäufe oder Geld im Rahmen der ausgenutzten Benutzer übertragen kann. Im Fall von einem Ziel-Angriff auf eine benutzerdefinierte Web-basierte Identitäts--verwaltungsanwendung können sie es einem Angreifer ermöglichen, ihre eigenen Identitäten erstellen, Ändern von Berechtigungen und rechten und dazu führen, dass eine systemische Gefährdung.  
  
Obwohl eine umfassende Erläuterung der Cross-Site-scripting und SQL Injection würde den Rahmen dieses Dokuments ist die [Open Web Application Security Project (OWASP)](https://www.owasp.org/index.php/Main_Page) veröffentlicht eine Top-10-Liste mit ausführliche Erläuterung der Sicherheitsrisiken und Gegenmaßnahmen.  
  
Unabhängig von der Investition in die Sicherheit der Infrastruktur Wenn schlecht entworfene und geschriebene Anwendungen, in die Infrastruktur bereitgestellt werden, die Umgebung anfällig für Angriffe erfolgt. Auch gut gesicherte Infrastruktur können nicht oft effektive Gegenmaßnahmen für diese Anwendung Angriffe bereitstellen. Das Problem durch den kombinierten, schlecht entworfene Anwendungen unter Umständen, dass Dienstkonten zu weitreichende Berechtigungen für die Anwendung ordnungsgemäß gewährt werden.  
  
Das Microsoft Security Development Lifecycle (SDL) ist ein Satz von strukturellen Prozess-Steuerelementen, die zur Verbesserung der Sicherheit ab einem frühen Zeitpunkt Anforderungen erfassen, und erweitern durch den Lebenszyklus der Anwendung, bis sie außer Betrieb genommen wird funktionieren. Diese Integration der effektive Sicherheitskontrollen ist nicht nur aus Gründen der Sicherheit wichtig, es ist unerlässlich, um sicherzustellen, dass die anwendungssicherheit Kosten und effektiv planen. Bewerten eine Anwendung für die Sicherheitsprobleme, wenn es effektiv Code vollständig ist, müssen Organisationen anwendungssicherheit bei Entscheidungen über nur vor dem Erstellen oder auch nach der Anwendung bereitgestellt wurde. Eine Organisation kann auswählen, um die Anwendung Fehler zu beheben, vor dem Bereitstellen der Anwendung in der Produktion anfallen von Kosten und Verzögerungen, oder die Anwendung kann bereitgestellt werden, in der Produktion mit bekannten Sicherheitslücken, Verfügbarmachen von der Organisation gefährden.  
  
Einige Organisationen setzen Sie die vollständige Kosten ein Sicherheitsproblem in Produktionscode über 10.000 US-Dollar pro Problem beheben und ohne eine effektive SDL entwickelte Anwendungen können mehr als zehn hohem Schweregrad Probleme pro 100.000 Zeilen Code durchschnittliche. In großen Anwendungen eskalieren schnell die Kosten. Im Gegensatz dazu viele Unternehmen einen Bezugswert für die weniger als ein Problem pro 100.000 Zeilen von Code in der endgültige Code Review-Phase des SDL festgelegt, und keine Probleme mit hohem Risiko Anwendungen in der Produktion darstellen.  
  
Implementieren von SDL erhöht die Sicherheit durch Einschließen von sicherheitsanforderungen früh im Erfassen von Anforderungen und Entwurf einer Anwendung bietet die bedrohungsmodellierung für Anwendungen mit hohem Risiko erfordert effektiv Schulungen und Überwachung von Entwicklern. und erfordert klare und konsistente Codes Standards und Vorgehensweisen. Im Endeffekt eine SDL ist bedeutende Verbesserungen bei der anwendungssicherheit und gleichzeitig die Kosten für das Entwickeln, bereitstellen, verwalten und Außerbetriebnahme einer Anwendungs zu reduzieren. Obwohl eine ausführliche Erörterung der Entwurf und Implementierung von SDL würde den Rahmen dieses Dokuments ist, finden Sie in der [Microsoft Security Development Lifecycle](https://www.microsoft.com/security/sdl/default.aspx) detaillierte Anleitungen und Informationen.  
  


